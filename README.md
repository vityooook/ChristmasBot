# üéÑ –ü–æ–¥–∞—Ä–∫–∏ –æ—Ç –û—Ç—Ü–∞ –ö–∞–π—Ñ–∞

Telegram-–±–æ—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–≥–æ —Ä–æ–∑—ã–≥—Ä—ã—à–∞ –ø–æ–¥–∞—Ä–∫–æ–≤.

## –£—Å–ª–æ–≤–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞

1. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
2. –ó–∞–ø—É—Å–∫ VPN-–±–æ—Ç–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –û—Ç–∫—Ä—ã—Ç—å –ª—é–±–æ–π —Å–∞–π—Ç —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º VPN

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π .env
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env ‚Äî —É–∫–∞–∂–∏ BOT_TOKEN, GIFT_ID –∏ —Ç.–¥.

# 2. –ó–∞–ø—É—Å—Ç–∏
docker-compose up -d --build

# 3. –õ–æ–≥–∏
docker-compose logs -f bot
```

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ `ADMIN_IDS` —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–¥–º–∏–Ω–∞–º–∏

---

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –°–æ–∑–¥–∞—Ç—å venv
python -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü–æ–¥–Ω—è—Ç—å PostgreSQL (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker)
docker-compose up -d db

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/christmas_bot

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ (—Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
python -m app
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

```env
# ========== –ë–æ—Ç ==========
BOT_TOKEN=123456:ABC-DEF...
BOT_USERNAME=YourBotUsername

# ========== –ö–∞–Ω–∞–ª ==========
REQUIRED_CHANNEL=YourChannel

# ========== VPN –±–æ—Ç ==========
VPN_BOT_USERNAME=FormulaVpnBot

# ========== –ü–æ–¥–∞—Ä–æ–∫ ==========
GIFT_ID=your_gift_id
GIFT_STAR_COST=15
MIN_STAR_BALANCE=100

# ========== –ê–¥–º–∏–Ω—ã ==========
# user_id —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é ‚Äî —Å—Ç–∞–Ω—É—Ç –∞–¥–º–∏–Ω–∞–º–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
ADMIN_IDS=487961820

# ========== –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ==========
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/christmas_bot

# ========== Remnawave API ==========
REMNAWAVE_API_URL=https://your-remnawave.com
REMNAWAVE_API_KEY=your-api-key

# ========== –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ==========
LOG_LEVEL=INFO
```

---

## üéÅ –ü–æ–ª—É—á–∏—Ç—å GIFT_ID

```bash
python app/scripts/list_gifts.py
```

---

## üë®‚Äçüíº –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/admin` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø–æ–¥–∞—Ä–∫–∏, –±–∞–ª–∞–Ω—Å |
| `/balance` | –ë–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥ –±–æ—Ç–∞ |
| `/export` | –°–∫–∞—á–∞—Ç—å CSV —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ |
| `/pause` | –ü–æ—Å—Ç–∞–≤–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ –ø–∞—É–∑—É |
| `/resume` | –°–Ω—è—Ç—å –±–æ—Ç–∞ —Å –ø–∞—É–∑—ã |
| `/donate [–∫–æ–ª-–≤–æ]` | –ü–æ–ø–æ–ª–Ω–∏—Ç—å –∑–≤—ë–∑–¥—ã –±–æ—Ç–∞ |
| `/send_pending` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –æ–∂–∏–¥–∞—é—â–∏–º |

### –î–µ—Ç–∞–ª–∏ –∫–æ–º–∞–Ω–¥

**`/stats`** ‚Äî —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø–æ–¥–∞—Ä–∫–∏, –±–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥

**`/balance`** ‚Äî –±–∞–ª–∞–Ω—Å –∏ —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–∞—Ä–∫–æ–≤ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å

**`/export`** ‚Äî CSV: user_id, username, gift_received, pending_gift, created_at

**`/pause` / `/resume`** ‚Äî —Å—Ç–∞–≤–∏—Ç –±–æ—Ç–∞ –Ω–∞ –ø–∞—É–∑—É (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç "–†–æ–∑—ã–≥—Ä—ã—à –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")

**`/donate [N]`** ‚Äî –∏–Ω–≤–æ–π—Å –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–≤—ë–∑–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)

**`/send_pending`** ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –≤—Å–µ–º –≤ –æ—á–µ—Ä–µ–¥–∏

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê–¥–º–∏–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ `ADMIN_IDS` –≤ `.env` + —Ñ–ª–∞–≥ `is_admin` –≤ –ë–î
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ API-–∫–ª—é—á–∏ ‚Äî —Ç–æ–ª—å–∫–æ –≤ `.env`, –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è
- –ë–î-–ø–∞—Ä–æ–ª—å –≤ docker-compose ‚Äî –ø–æ–º–µ–Ω—è–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
